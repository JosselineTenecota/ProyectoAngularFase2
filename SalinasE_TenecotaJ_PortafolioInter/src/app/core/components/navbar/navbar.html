<nav class="navbar">
  
  <!-- HAMBURGUESA (Móvil) -->
  <div class="hamburger" (click)="toggleMenu()">
    <span></span>
    <span></span>
    <span></span>
  </div>

  <!-- MENÚ MÓVIL -->
  <div class="menu-mobile" [class.open]="menuOpen">
    <a class="accion-movil" routerLink="/" (click)="menuOpen=false">Home</a>

    <a class="accion-movil" *ngIf="auth.currentRole === 'programador'" routerLink="/programador" (click)="menuOpen=false">
      Panel Programador
    </a>

    <a class="accion-movil" *ngIf="auth.currentRole === 'admin'" routerLink="/admin" (click)="menuOpen=false">
      Admin
    </a>

    <a class="accion-movil" *ngIf="auth.currentRole === 'cliente' || auth.currentRole === 'usuario'" routerLink="/mis-asesorias" (click)="menuOpen=false">
      Mis Asesorías
    </a>

    <button (click)="logout()" class="logout-btn">
      Cerrar sesión
    </button>
  </div>

  <!-- LINKS IZQUIERDA (Escritorio) -->
  <div class="nav-links">
    <a routerLink="/">Home</a>

    <a *ngIf="auth.currentRole === 'programador'" routerLink="/programador">
      Panel Programador
    </a>

    <a *ngIf="auth.currentRole === 'admin'" routerLink="/admin">
      Admin
    </a>

    <a *ngIf="auth.currentRole === 'cliente' || auth.currentRole === 'usuario'" routerLink="/mis-asesorias">
      Mis Asesorías
    </a>
  </div>

  <!-- DERECHA (Usuario + Logout) -->
  <div class="right-section">
    
    <!-- Usamos el getter currentUser del servicio -->
    <div class="user-info" *ngIf="auth.currentUser as user">
      
      <!-- FOTO: Java (foto) o Firebase (photoURL) o Default -->
      <img [src]="user.foto || user.photoURL || 'https://ui-avatars.com/api/?name=' + (user.nombre || user.displayName || 'U')" alt="User">
      
      <!-- NOMBRE: Java (nombre) o Firebase (displayName/email) -->
      <span>{{ user.nombre || user.displayName || user.email }}</span>
    </div>

    <button class="logout-btn" (click)="logout()">Cerrar sesión</button>
  </div>
</nav>