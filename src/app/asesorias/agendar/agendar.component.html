<div class="agendar-container">
  <h2>Agendar Asesoría</h2>
  <p>Selecciona un experto y reserva tu espacio.</p>

  <form (ngSubmit)="enviarSolicitud()">
    <div class="form-group">
      <label>¿Con quién quieres hablar?</label>
      <select [(ngModel)]="solicitud.programadorCedula" name="programador" required>
        <option value="" disabled selected>Selecciona un programador</option>
        <option *ngFor="let p of programadores" [value]="p.cedula || p.persona?.cedula">
          {{ p.nombre || p.persona?.nombre }} {{ p.apellido || p.persona?.apellido }}
        </option>
      </select>
    </div>

    <div class="row">
      <div class="form-group">
        <label>Fecha</label>
        <input type="date" [(ngModel)]="solicitud.fecha" name="fecha" 
               [min]="minDate" (change)="actualizarHorariosDisponibles()" required>
      </div>

      <div class="form-group">
        <label>Hora Disponible</label>
        <select [(ngModel)]="solicitud.hora" name="hora" required>
          <option value="" disabled selected>Elige una hora</option>
          <option *ngFor="let h of horariosDisponibles" [value]="h">{{ h }}</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <label>Motivo</label>
      <textarea [(ngModel)]="solicitud.tema" name="tema" 
                placeholder="¿En qué necesitas ayuda?" required></textarea>
    </div>

    <button type="submit" [disabled]="!solicitud.programadorCedula" class="btn-submit">
      Enviar Solicitud
    </button>
  </form>
</div>